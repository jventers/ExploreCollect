<!doctype html>
<html>
    <head>
    <!-- DO NOT REMOVE. THIS DEFINES THE CHARACTER SET-->
    <meta charset="utf-8">
    <!-- Backwards compatibility for IE. This display the page in edge mode: the highest mode supported by IE 6 - 11 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Set the width of the page to the screen-width of the device -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Page title-->
    <title>Home</title>
    <!-- Link to styles here -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <!-- Link to font-awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <!-- Link to Open Sans font -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:600;400;300" rel="stylesheet" type="text/css">
    <!-- Load JavaScript -->
    <script src="http://www.google.com/jsapi"></script>
    <!-- Load JQuery -->
    <script>
		google.load("jquery", "1.4.1");
    </script>
   	<!-- Load Google Maps API -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBaWY5QH4ObetGu6TxKARoUpxWggHtJoiE&libraries=places"></script>
    <!-- Include our scripts -->
    <script src="scripts/home.js"></script>
	<script src="scripts/geo.js"></script>
    <script src="scripts/nearbySearch.js"></script>
    <!-- Description and Keywords-->
    <meta name="description" content="INSERT DESCRIPTION HERE">
    <meta name="keywords" content="INSERT KEYWORDS HERE">
    <!-- Load header-->
	<script>
		$(function(){
			$(".header").load("header.html"); 
		});
	</script>

        <script>
            var coords;
            var terms = ['bar','park','library','concert','store','historical','restaurants'];
            var currentCity = document.getElementById('current-city');



            function setLocation(){
                currentCity = document.getElementById('current-city');
                coords = getCoordinates();
                setupCategories();
                runQuery();
            }
             function setupCategories(){
                 terms.forEach(function(currentValue,index,arr){


                     var arrow = document.createElement('i');
                     arrow.className='fa fa-caret-right fa-lg';



                     var expCollapse = document.createElement('div');
                     expCollapse.className='expandCollapse';
                     expCollapse.setAttribute("data-clicked","true");
                     //expCollapse.style = 'padding-left: 20px; position: relative; margin-top: auto; margin-bottom: auto; float: left; line-height: 1.5rem; padding: 2px; font-weight: bold; width: 100%; cursor: pointer; border: 2px solid #aaa; border-radius: 30px;';
                     expCollapse.addEventListener('click', function (event) {
                         //alert('Hi!');
                             $(this).next().slideToggle(500);
                             if (this.getAttribute("data-clicked") == "true") {

                                 // Rotate arrow clockwise
                                 $(this).prev().animate({
                                     borderSpacing: 90
                                 }, {
                                     step: function (now) {
                                         $(this).css('-webkit-transform', 'rotate(' + now + 'deg)');
                                         $(this).css('-moz-transform', 'rotate(' + now + 'deg)');
                                         $(this).css('transform', 'rotate(' + now + 'deg)');
                                     },
                                     duration: 250
                                 }, 'linear');

                                 this.setAttribute("data-clicked", "false");

                             } // End if
                             // The second time the category is selected
                             else {
                                 // Rotate arrow back to center (counter-clockwise)
                                 $(this).prev().animate({
                                     borderSpacing: 0
                                 }, {
                                     step: function (now) {
                                         $(this).css('-webkit-transform', 'rotate(' + now + 'deg)');
                                         $(this).css('-moz-transform', 'rotate(' + now + 'deg)');
                                         $(this).css('transform', 'rotate(' + now + 'deg)');
                                     },
                                     duration: 250
                                 }, 'linear');
                                 this.setAttribute("data-clicked", "true");

                             } // end else

                     });




                     var myProgress = document.createElement('div');
                     myProgress.className='myProgress';
                     //myProgress.style = 'position: relative; width: 100%; height: 1.5rem; border-radius: 36px';

                     var myBar = document.createElement('div');
                     myBar.className='myBar';
                     //myBar.style = 'width: 0px; height: 100%; background-color: #f38630; border-radius: 36px; display: inline-block';

                     var heading = document.createElement('h3');
                     heading.className='category';
                     heading.innerHTML = currentValue;
                     //heading.style = 'margin-top: auto; margin-bottom: auto; float: left; line-height: 1.5rem; padding-left: 20px; position: relative';

                     var p = document.createElement('p');
                     p.className='percentage';
                     p.innerHTML = '0%';
                     //p.style = 'margin-top: auto; margin-bottom: auto; float: left; line-height: 1.5rem; position: absolute; line-height: 1.5rem; color: white; padding-left: 88%; text-align: right;width: 50px';

                     var items = document.createElement('div');
                     items.className='showHide';
                     items.id=currentValue;
                    // items.style='display: block';


                     myBar.appendChild(heading);
                     myBar.appendChild(p);

                     myProgress.appendChild(myBar);

                     expCollapse.appendChild(myProgress);



                     currentCity.appendChild(arrow);
                     currentCity.appendChild(expCollapse);
                     currentCity.appendChild(items);

                   // reload();
                 });


             }



            function runQuery(){

                var delay=1000; //1 second


                terms.forEach(function(currentValue,index,arr){
                    setTimeout(function() {
                        //your code to be executed after 1 second
                        initMap(coords, currentValue);
                        console.log(currentValue);
                    }, delay*index);
                });

            }

        </script>
    </head>

    <body>
<header class="header"></header>

<main class="container">
    <section class="content">
    
    <a href="#" id="editHome">Edit</a>
    
        <div id="cities-list" class="cities">
            <i class="fa fa-caret-right fa-lg"></i>
            <div data-clicked="true" class="expandCollapse">
                <div class="myProgress">
                    <div class="myBar">
                        <h2 id="currentCity" class="city"></h2>
                        <p class="percentage">0%</p>
                    </div> <!-- End myBar -->
            	</div> <!-- End myProgress -->
        	</div> <!-- End expandCollapse -->
        	<div class="showHide" id="current-city">

                <!--<i class="fa fa-caret-right fa-lg"></i>-->
                <!--<div data-clicked="true" class="expandCollapse">-->
                    <!--<div class="myProgress">-->
                    	<!--<div class="myBar">-->
                            <!--<h3 class="category">Test</h3>-->
                            <!--<p class="percentage">0%</p>-->
                        <!--</div> &lt;!&ndash; End myBar &ndash;&gt;-->
                    <!--</div> &lt;!&ndash; End myProgress &ndash;&gt;-->
                <!--</div> &lt;!&ndash; End expandCollapse &ndash;&gt;-->

                <!--<div id="test" class="showHide">-->




                <!--&lt;!&ndash; THIS IS AN EXAMPLE OF WHAT GETS LOADED HERE &ndash;&gt;-->
                <!--<h4 class="location"><a href="location-detail.html">The Rhino</a></h4>-->

                <!--</div> &lt;!&ndash; End expandCollapse &ndash;&gt;-->


                <!--<i class="fa fa-caret-right fa-lg"></i>-->
                <!--<div data-clicked="true" class="expandCollapse">-->
                    <!--<div class="myProgress">-->
                        <!--<div class="myBar">-->
                            <!--<h3 class="category">Library</h3>-->
                            <!--<p class="percentage">0%</p>-->
                        <!--</div> &lt;!&ndash; End myBar &ndash;&gt;-->
                    <!--</div> &lt;!&ndash; End myProgress &ndash;&gt;-->
                <!--</div> &lt;!&ndash; End expandCollapse &ndash;&gt;-->

                <!--<div id="library" class="showHide">-->




                    <!--&lt;!&ndash; THIS IS AN EXAMPLE OF WHAT GETS LOADED HERE-->
                    <!--<h4 class="location"><a href="location-detail.html">The Rhino</a></h4> &ndash;&gt;-->

                <!--</div> &lt;!&ndash; End expandCollapse &ndash;&gt;-->


                <!--<i class="fa fa-caret-right fa-lg"></i>-->
                <!--<div data-clicked="true" class="expandCollapse">-->
                    <!--<div class="myProgress">-->
                        <!--<div class="myBar">-->
                            <!--<h3 class="category">Parks</h3>-->
                            <!--<p class="percentage">0%</p>-->
                        <!--</div> &lt;!&ndash; End myBar &ndash;&gt;-->
                    <!--</div> &lt;!&ndash; End myProgress &ndash;&gt;-->
                <!--</div> &lt;!&ndash; End expandCollapse &ndash;&gt;-->

                <!--<div id="park" class="showHide">-->




                    <!--&lt;!&ndash; THIS IS AN EXAMPLE OF WHAT GETS LOADED HERE-->
                    <!--<h4 class="location"><a href="location-detail.html">The Rhino</a></h4> &ndash;&gt;-->

                <!--</div> &lt;!&ndash; End expandCollapse &ndash;&gt;-->




            </div> <!-- End showHide -->
        </div> <!-- End Cities -->
        
        
        
    <!-- <input type="submit" class="progressUpdate btn" value="Change Progress"> -->
    
    <div id="addLocArea">
    <p id="locMsg">It doesn't look like you've added any cities to your list yet.</p>
    <p><a class="currentLoc" onclick="setLocation()">Add Current Location</a> or <a href="#">Search for a City</a></p>
    <br></div>
    <div id="location"></div>
  
  </section>
    </main>
</body>
</html>
